[
  {
    "url": "https://api.github.com/repos/cloudinary/cloudinary_npm/issues/comments/1030786742",
    "html_url": "https://github.com/cloudinary/cloudinary_npm/issues/531#issuecomment-1030786742",
    "issue_url": "https://api.github.com/repos/cloudinary/cloudinary_npm/issues/531",
    "id": 1030786742,
    "node_id": "IC_kwDOAEh2wM49cI62",
    "user": {
      "login": "roeeba",
      "id": 16381584,
      "node_id": "MDQ6VXNlcjE2MzgxNTg0",
      "avatar_url": "https://avatars.githubusercontent.com/u/16381584?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/roeeba",
      "html_url": "https://github.com/roeeba",
      "followers_url": "https://api.github.com/users/roeeba/followers",
      "following_url": "https://api.github.com/users/roeeba/following{/other_user}",
      "gists_url": "https://api.github.com/users/roeeba/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/roeeba/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/roeeba/subscriptions",
      "organizations_url": "https://api.github.com/users/roeeba/orgs",
      "repos_url": "https://api.github.com/users/roeeba/repos",
      "events_url": "https://api.github.com/users/roeeba/events{/privacy}",
      "received_events_url": "https://api.github.com/users/roeeba/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-06T09:40:23Z",
    "updated_at": "2022-02-06T09:40:23Z",
    "author_association": "COLLABORATOR",
    "body": "Hey @TioElvis, Your upload method seems to be missing the callback function as the second parameter. It should be something like:\r\n\r\n```\r\ncloudinary.uploader.upload(path, function(error, result) {console.log(result, error)});\r\n```\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/cloudinary/cloudinary_npm/issues/comments/1030786742/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/cloudinary/cloudinary_npm/issues/comments/1030797107",
    "html_url": "https://github.com/cloudinary/cloudinary_npm/issues/531#issuecomment-1030797107",
    "issue_url": "https://api.github.com/repos/cloudinary/cloudinary_npm/issues/531",
    "id": 1030797107,
    "node_id": "IC_kwDOAEh2wM49cLcz",
    "user": {
      "login": "Elvis213342121",
      "id": 92209528,
      "node_id": "U_kgDOBX8BeA",
      "avatar_url": "https://avatars.githubusercontent.com/u/92209528?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Elvis213342121",
      "html_url": "https://github.com/Elvis213342121",
      "followers_url": "https://api.github.com/users/Elvis213342121/followers",
      "following_url": "https://api.github.com/users/Elvis213342121/following{/other_user}",
      "gists_url": "https://api.github.com/users/Elvis213342121/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Elvis213342121/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Elvis213342121/subscriptions",
      "organizations_url": "https://api.github.com/users/Elvis213342121/orgs",
      "repos_url": "https://api.github.com/users/Elvis213342121/repos",
      "events_url": "https://api.github.com/users/Elvis213342121/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Elvis213342121/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-06T09:47:55Z",
    "updated_at": "2022-02-06T09:47:55Z",
    "author_association": "NONE",
    "body": "Hello, thanks for answering, I'm trying to do something like that, but now I get this error\r\n\r\n![Immagine 2022-02-06 104711](https://user-images.githubusercontent.com/92209528/152675450-600ac3b4-0098-4854-b9c1-36f1edb1b0e6.png)\r\n\r\nAny advice ?\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/cloudinary/cloudinary_npm/issues/comments/1030797107/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/cloudinary/cloudinary_npm/issues/comments/1030798249",
    "html_url": "https://github.com/cloudinary/cloudinary_npm/issues/531#issuecomment-1030798249",
    "issue_url": "https://api.github.com/repos/cloudinary/cloudinary_npm/issues/531",
    "id": 1030798249,
    "node_id": "IC_kwDOAEh2wM49cLup",
    "user": {
      "login": "Elvis213342121",
      "id": 92209528,
      "node_id": "U_kgDOBX8BeA",
      "avatar_url": "https://avatars.githubusercontent.com/u/92209528?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Elvis213342121",
      "html_url": "https://github.com/Elvis213342121",
      "followers_url": "https://api.github.com/users/Elvis213342121/followers",
      "following_url": "https://api.github.com/users/Elvis213342121/following{/other_user}",
      "gists_url": "https://api.github.com/users/Elvis213342121/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Elvis213342121/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Elvis213342121/subscriptions",
      "organizations_url": "https://api.github.com/users/Elvis213342121/orgs",
      "repos_url": "https://api.github.com/users/Elvis213342121/repos",
      "events_url": "https://api.github.com/users/Elvis213342121/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Elvis213342121/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-06T09:55:32Z",
    "updated_at": "2022-02-06T09:55:32Z",
    "author_association": "NONE",
    "body": "I already solved it hahaha\r\n\r\nimport { FastifyPluginAsync } from \"fastify\";\r\nimport multer from \"fastify-multer\";\r\nimport { v2 } from \"cloudinary\";\r\n\r\n fastify.post<{\r\n    Body: CreatePublicationBody;\r\n    Params: CreatePublicationParams;\r\n  }>(\r\n    \"/create/:userId\",\r\n    {\r\n      preHandler: upload,\r\n    },\r\n    async (request, reply) => {\r\n      const { description } = request?.body;\r\n      const { userId } = request.params;\r\n      const { path } = request.file;\r\n\r\n      const result = await v2.uploader.upload(`${path}`);\r\n\r\n      console.log(result);\r\n\r\n      const payload = {\r\n        userId: userId,\r\n        description: description,\r\n        image: result?.secure_url,\r\n      };\r\n\r\n      await fastify.store.Publication.create(payload, (err, data) => {\r\n        if (err || !data) {\r\n          throw new Error(\"Error to create Publication\");\r\n        } else {\r\n          return reply.status(200).send(data);\r\n        }\r\n      });\r\n\r\n      return \"ok\";\r\n    }\r\n  );\r\n\r\nAnd I would be hahah",
    "reactions": {
      "url": "https://api.github.com/repos/cloudinary/cloudinary_npm/issues/comments/1030798249/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/cloudinary/cloudinary_npm/issues/comments/1030798697",
    "html_url": "https://github.com/cloudinary/cloudinary_npm/issues/531#issuecomment-1030798697",
    "issue_url": "https://api.github.com/repos/cloudinary/cloudinary_npm/issues/531",
    "id": 1030798697,
    "node_id": "IC_kwDOAEh2wM49cL1p",
    "user": {
      "login": "roeeba",
      "id": 16381584,
      "node_id": "MDQ6VXNlcjE2MzgxNTg0",
      "avatar_url": "https://avatars.githubusercontent.com/u/16381584?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/roeeba",
      "html_url": "https://github.com/roeeba",
      "followers_url": "https://api.github.com/users/roeeba/followers",
      "following_url": "https://api.github.com/users/roeeba/following{/other_user}",
      "gists_url": "https://api.github.com/users/roeeba/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/roeeba/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/roeeba/subscriptions",
      "organizations_url": "https://api.github.com/users/roeeba/orgs",
      "repos_url": "https://api.github.com/users/roeeba/repos",
      "events_url": "https://api.github.com/users/roeeba/events{/privacy}",
      "received_events_url": "https://api.github.com/users/roeeba/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-06T09:58:28Z",
    "updated_at": "2022-02-06T09:58:28Z",
    "author_association": "COLLABORATOR",
    "body": "@TioElvis Thanks for the update! good to hear ðŸ™‚",
    "reactions": {
      "url": "https://api.github.com/repos/cloudinary/cloudinary_npm/issues/comments/1030798697/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]